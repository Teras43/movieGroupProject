<div class="movieListContainer">
  <mat-card class="movieListCard" *ngIf="popularData">
    <mat-form-field appearance="fill">
      <mat-label>Options</mat-label>
      <mat-select [(ngModel)]="selectedGenre" value="value">
        <mat-option [value]="titles">Titles</mat-option>
        <mat-option [value]="genre">Genre</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field class="searchInput">
      <mat-label>Search Movies!</mat-label>
      <input matInput type="text" [(ngModel)]="searchQuery" />
      <button
        mat-button
        *ngIf="searchQuery"
        matSuffix
        mat-icon-button
        aria-label="Clear"
        (click)="searchQuery = ''"
      >
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>
    <button class="searchTrigger" (click)="searchFn()">
      <mat-icon>search</mat-icon>
    </button>
    <div *ngIf="searchResponse !== undefined">
      <div
        class="listContent"
        *ngFor="let data of searchResponse.results"
      ></div>
    </div>
    <div *ngIf="!searchResponse">
      <div class="listContent" *ngFor="let data of popularData.results">
        <div class="imgDiv">
          <img
            class="movieListThumb"
            src="{{ apiData.apiPosterPath + data.poster_path }}"
          />
        </div>
        <div class="movieInfoDiv">
          <div class="movieTitleDiv">
            {{ data.title }}
          </div>
          <div class="movieDescDiv">
            {{ data.overview }}
          </div>
          <div class="movieRateDiv">
            <div class="ratingDiv">
              Rating:
              {{ data.vote_average }}
            </div>
            <div class="countDiv">
              Total Votes:
              {{ data.vote_count }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </mat-card>
</div>
